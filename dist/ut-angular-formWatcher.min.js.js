/*!
 * angular-directive-boilerplate
 * https://github.com/mohsen1/angular-directive-boilerplate
 * Version: 0.0.8 - 2015-10-01T09:10:49.827Z
 * License: MIT
 */
!function(){"use strict";function r(){return function(r,n){var t=this;t.name=r,t.isValid=n}}function n(r,n,t){var e=this;e.forms=[],e.registerForm=function(r){var n=e.getForm(r);return n||(n=new t(r,!1),e.forms.push(n)),null===n},e.unregisterForm=function(r){var n=e.getForm(r);return n&&e.forms.splice(e.forms.indexOf(n),1),null!==n},e.unregisterAllForms=function(){for(;e.forms.length>0;)e.unregisterForm(e.forms[0].name);return 0===e.forms.length},e.registeredFormCount=function(){return e.forms.length},e.areAllFormsValid=function(){for(var r=!0,n=0;r&&n<e.forms.length;){var t=e.forms[n];t.isValid||(r=!1),n++}return r},e.isFormValid=function(r){var n=!1,t=e.getForm(r);return t&&(n=t.isValid),n},e.setFormValidity=function(t,o){var i=e.getForm(t);return i&&(i.isValid=o),r.$emit(n.FORM_VALIDITY_CHANGE,t,o),r.$emit(n.ALL_FORMS_VALIDITY_CHANGE,e.areAllFormsValid()),null!==i},e.getForm=function(r){for(var n=null,t=0;!n&&t<e.forms.length;){var o=e.forms[t];o.name===r&&(n=o),t++}return n}}function t(r){function n(n){var t=this;t.name=null,t.element=null,t.ngFormCtrl=null,t.init=function(e,o,i){t.name=e||i.$name,t.element=o,t.ngFormCtrl=i,r.registerForm(t.name),t.unwatchFormValidity=n.$watch(function(){return t.ngFormCtrl.$valid},t.setValidity,!0)},t.setValidity=function(n){r.setFormValidity(t.name,n)},n.$on("$destroy",function(){t.unwatchFormValidity(),t.name=null,t.element=null,t.ngFormCtrl=null})}function t(r,n,t,e){var o=r.ctrl;o.init(t.utFormWatcher,n,e)}return{restrict:"A",require:"?form",scope:{},controller:["$scope",n],controllerAs:"ctrl",bindToController:!0,link:t}}var e=angular.module("untemps.utFormWatcher",[]);e.constant("utFormServiceChannel",{FORM_VALIDITY_CHANGE:"utFormService:formValidityChange",ALL_FORMS_VALIDITY_CHANGE:"utFormService:allFormsValidityChange"}),e.factory("Form",[r]),e.service("utFormService",["$rootScope","utFormServiceChannel","Form",n]),e.directive("utFormWatcher",["utFormService",t])}();